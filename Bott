# --- ИМПОРТЫ ---
from geopy.geocoders import Nominatim
from telegram import Update, ReplyKeyboardMarkup, ReplyKeyboardRemove, KeyboardButton
from telegram.ext import ConversationHandler, MessageHandler, Filters, CallbackContext

# --- СОСТОЯНИЯ ДЛЯ ConversationHandler ---
PHOTO, PRICE_BEFORE, PRICE_AFTER, CURRENCY, LOCATION, STORE_SELECT, STORE_NAME = range(7)

# --- ПАМЯТЬ ---
stores = {}        # store_name -> {"coords": (), "address": "", "products": []}
addresses = {}     # address -> [store_name]
discounts = []     # список всех скидок

# --- ГЕОЛОКАТОР ---
geolocator = Nominatim(user_agent="kwt-bot")

# --- КНОПКИ НАВИГАЦИИ ---
BACK = "⬅️ Назад"
CANCEL = "❌ Отмена"
